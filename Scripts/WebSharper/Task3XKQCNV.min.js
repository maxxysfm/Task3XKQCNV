(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;a=self;b=a.Task3XKQCNV=a.Task3XKQCNV||{};c=b.Dto=b.Dto||{};d=c.Weight=c.Weight||{};e=c.User=c.User||{};f=b.Client=b.Client||{};g=a.StartupCode$Task3XKQCNV$Client=a.StartupCode$Task3XKQCNV$Client||{};h=a.WebSharper;i=h&&h.List;j=h&&h.Seq;k=h&&h.Operators;l=h&&h.Charting;m=l&&l.Chart;n=l&&l.Pervasives;o=h&&h.UI;p=o&&o.Var$1;q=o&&o.Doc;r=l&&l.Renderers;s=r&&r.ChartJs;t=o&&o.AttrProxy;u=h&&h.Remoting;v=u&&u.AjaxRemotingProvider;w=h&&h.DateUtil;x=a.Date;y=a.IntelliFactory;z=y&&y.Runtime;d.New=function(A,B,C){return{Username:A,Weight:B,Published:C};};e.New=function(A,B,C){return{Username:A,Name:B,Password:C};};f.Main=function(){var A,B,C,D,E,F,G,H,I,J;i.ofSeq(j.delay(function(){return j.map(a.id,k.range(1,9));}));A=m.Line$1(i.ofSeq(j.delay(function(){return j.map(function(K){return[a.String(K),K*K];},k.range(1,9));}))).__WithTitle("Square numbers").__WithFillColor(new n.Color({$:0,$0:120,$1:120,$2:120,$3:0.2}));p.Create$1("");B=p.Create$1("");C=p.Create$1("");D=p.Create$1("");E=p.Create$1("");F=p.Create$1("");G=p.Create$1("");H=p.Create$1("");I=p.Create$1((new a.Date(f.timeNow())).toLocaleString());J=p.Create$1("5");return q.Element("div",[],[s.Render$8(A,null,null,null),q.Element("table",[t.Create("id","loginform"),t.Create("border","2"),t.Create("style","margin: auto;\n            width: 80%;\n            padding: 10px;\n            padding-bottom: 70px;\n            margin-bottom: 60px;")],i.ofSeq(j.delay(function(){var K;K=t.Create("style","padding-top: 10px;padding-right: 10px;padding-bottom: 10px;padding-left: 10px;");return j.append([q.Element("th",[K],[q.Element("h2",[],[q.TextNode("Login")]),q.Element("table",[],[q.Element("tr",[],i.ofSeq(j.delay(function(){var L;L="Username: ";return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode(L)])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("placeholder",L)],C)])];}));}))),q.Element("tr",[],i.ofSeq(j.delay(function(){var L;L="Password: ";return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode(L)])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("type","password"),t.Create("placeholder",L)],D)])];}));})))]),q.Button("Login",[],function(){var L;L=(new v.New()).Sync("Task3XKQCNV:Task3XKQCNV.Server.Login:-662090079",[C.Get(),D.Get()]);C.Get()===""||D.Get()===""?a.alert("Please fill every field on the login screen."):L!=null?(a.alert("Welcome "+L.$0.Name+"!"),self.document.getElementById("loginform").setAttribute("style","display:none"),self.document.getElementById("homepage").setAttribute("style","display:block"),B.Set(L.$0.Name)):a.alert("Invalid username or password!");})])],j.delay(function(){return[q.Element("th",[K],[q.Element("h2",[],[q.TextNode("Register")]),q.Element("table",[],[q.Element("tr",[],i.ofSeq(j.delay(function(){var L;L="Username: ";return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode(L)])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("placeholder",L)],F)])];}));}))),q.Element("tr",[],i.ofSeq(j.delay(function(){var L;L="Display Name: ";return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode(L)])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("placeholder",L)],E)])];}));}))),q.Element("tr",[],i.ofSeq(j.delay(function(){var L;L="Password: ";return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode(L)])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("type","password"),t.Create("placeholder",L)],G)])];}));}))),q.Element("tr",[],i.ofSeq(j.delay(function(){var L;L="Password again: ";return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode(L)])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("type","password"),t.Create("placeholder",L)],H)])];}));})))]),q.Button("Register",[],function(){if(F.Get()===""||E.Get()===""||G.Get()===""||H.Get()==="")a.alert("You must enter a value in every option!");else if(G.Get()!==H.Get())a.alert("Passwords doesn't match.");else if((new v.New()).Sync("Task3XKQCNV:Task3XKQCNV.Server.NameExists:1707812660",[F.Get()]))a.alert("This username is not available! Pick a different username.");else{(new v.New()).Send("Task3XKQCNV:Task3XKQCNV.Server.Register:1351335016",[F.Get(),E.Get(),G.Get()]);a.alert("Registered");}})])];}));}))),q.Element("div",[t.Create("id","homepage"),t.Create("style","display:none;padding-bottom: 20px;padding-top: 20px;")],[q.Element("table",[t.Create("border","2"),t.Create("style","margin: auto;\n                width: 80%;\n                padding: 10px;")],i.ofSeq(j.delay(function(){return[q.Element("th",[t.Create("style","padding-top: 10px;padding-right: 10px;padding-bottom: 10px;padding-left: 10px;")],[q.Element("h2",[],[q.TextNode("Log your weight!")]),q.Element("table",[],[q.Element("tr",[],i.ofSeq(j.delay(function(){return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode("Your name: ")])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("disabled","")],B)])];}));}))),q.Element("tr",[],i.ofSeq(j.delay(function(){return j.append([q.Element("th",[],[q.Element("h3",[],[q.TextNode("Weight to log: ")])])],j.delay(function(){return[q.Element("th",[],[q.Input([t.Create("type","number"),t.Create("min","1"),t.Create("max","500")],J)])];}));}))),q.Element("tr",[],[q.Element("th",[],[q.Element("h3",[],[q.TextNode("")])]),q.Element("th",[],[q.Input([t.Create("disabled",""),t.Create("value",I.Get())],I)])]),q.Element("tr",[],[q.Element("th",[],[q.Element("h3",[],[q.TextNode("Date")])]),q.Element("th",[],[q.Input([t.Create("type","date"),t.Create("min","1980-01-01"),t.Create("max","2100-01-01"),t.Create("value",I.Get())],I)])])]),q.Button("Log weight!",[],function(){var K;if(I.Get()===""||J.Get()==="")a.alert("You must enter a value in every option!");else{K=w.Parse(I.Get());(new v.New()).Send("Task3XKQCNV:Task3XKQCNV.Server.AddWeight:38517317",[B.Get(),k.toInt(a.Number(J.Get())),K]);a.alert("New book added!");}})])];})))])]);};f.timeNow=function(){g.$cctor();return g.timeNow;};g.$cctor=function(){g.$cctor=a.ignore;g.timeNow=x.now();};z.OnLoad(function(){f.Main();});}());
